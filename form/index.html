<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="container">
        <header>Donation Form</header>
        <form action="#" id="myForm">
            <div class="form first">
                <div class="details personal">
                    <span class="title">Contact Details</span>

                    <div class="fields">
                        <div class="input-field">
                            <label>Full Name</label>
                            <input type="text" placeholder="Enter your name"  required>
                        </div>

                        <div class="input-field">
                            <label>Mobile Number</label>
                            <input type="number" placeholder="Enter your mobile number"  required>
                        </div>

                        <div class="input-field">
                            <label>Email</label>
                            <input type="email" placeholder="Enter your email"  required>
                        </div>
                    </div>
                </div>

                <div class="details Address">
                    <span class="title">Address Details</span>

                    <div class="fields">
                        <div class="input-field">
                            <label>Address Line 1</label>
                            <input type="text" placeholder="Enter address"  required>
                        </div>

                        <div class="input-field">
                            <label>Address Line 2</label>
                            <input type="text" placeholder="Enter address">
                        </div>

                        <div class="input-field">
                            <label>Zip/Postal Code</label>
                            <input type="number" placeholder="Enter zip/postal code"  required>
                        </div>

                        <div class="input-field">
                            <label>City</label>
                            <input type="text" placeholder="Enter your City"  required>
                        </div>

                        <div class="input-field">
                            <label>District</label>
                            <input type="text" placeholder="Enter your District" required>
                        </div>

                        <div class="input-field">
                            <label>State</label>
                            <input type="text" placeholder="Enter your State"  required>
                        </div>
                    </div>

                    <div class="btns">
                        <button class="btn map" id="myButton">
                            <span class="btntxt">Attach Map Location</span>
                            <i class="uil uil-navigator"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="form second">
                <div class="details food">
                    <span class="title">Food Details</span>

                    <div class="table-container">
                        <table id="foodTable">
                            <thead>
                                <tr>
                                    <th>Serial Number</th>
                                    <th>Name</th>
                                    <th>Quantity (Kg.)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Initial row in the table -->
                                <tr>
                                    <td>1</td>
                                    <td><input type="text" placeholder="Enter food name"></td>
                                    <td><input type="number" placeholder="Enter quantity"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>


                    <div class="table-btns">
                        <div class="btn">
                            <button type="button" onclick="addFoodRow()">
                                <span class="btntxt">Add Food Row</span>
                            </button>
                        </div>

                        <div class="btn">
                            <button type="button" onclick="removeFoodRow()">
                                <span class="btntxt">Remove Food Row</span>
                            </button>
                        </div>
                    </div>    
                    
                    <div class="btn">
                        <button class="submitbtn">
                           <input type="submit">
                        </button>
                    </div>


                </div>
            </div>
        </form>
    </div>

    <script>
        var maxRows = 6;

        function addFoodRow() {
            var foodTable = document.getElementById('foodTable').getElementsByTagName('tbody')[0];
            if (foodTable.rows.length < maxRows) {
                var newRow = foodTable.insertRow();
                var serialNumberCell = newRow.insertCell(0);
                var nameCell = newRow.insertCell(1);
                var quantityCell = newRow.insertCell(2);
                serialNumberCell.innerHTML = foodTable.rows.length;
                nameCell.innerHTML = '<input type="text" placeholder="Enter food name">';
                quantityCell.innerHTML = '<input type="number" placeholder="Enter quantity">';
            } else {
                alert("Maximum number of rows reached (6).");
            }
        }

        function removeFoodRow() {
            var foodTable = document.getElementById('foodTable').getElementsByTagName('tbody')[0];
            if (foodTable.rows.length > 1) {
                foodTable.deleteRow(-1);
            } else {
                alert("At least one row is required.");
            }
        }

        // Function for location
        function getLocation() {
        return new Promise((resolve, reject) => {
        navigator.geolocation.getCurrentPosition(resolve, reject);
        });
        }

        const button = document.getElementById('myButton');
        const form = document.getElementById('myForm');

        button.addEventListener('click', async (event) => {
        event.preventDefault(); // Prevent the default form submission behavior

        try {
        const location = await getLocation();
        console.log(location);
        
        } catch (error) {
        console.error(error);
        }
        });


    </script>
</body>
</html>
